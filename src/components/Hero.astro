---
import ServiceGallery from "./ServiceGallery.astro";
import type { ServiceBlock } from "../types/landing";

import img1Design from "../assets/maria-paula-ntotsikas.jpg";
import img1Creativity from "../assets/federico-salazar-dr.png";
import img1Production from "../assets/videoclip-auto.jpg";
import rumboVerticalHero from "../assets/rumbo-vertical-hero.png";
import img2Production from "../assets/padel-chico.jpg";
import img3Production from "../assets/perfume.jpg";
import img4Production from "../assets/perfume-2.jpg";
import blumTechVideo from "../assets/BlumTech-h264.mp4";
import PaulaNtotsikasImage from "../assets/paula-ntotsikas-dra.png";
import MizarTechlineImage from "../assets/mizar-techline.jpg";
import { Image } from "astro:assets";

const titleText = "TODO LO QUE TU MARCA NECESITA, EN UN SOLO EQUIPO";

const services: ServiceBlock[] = [
  {
    title: "DISEÑO",
    gallery: [
      { type: "image", source: img1Design, alt: "Maria Paula Ntotsikas" },
      { type: "image", source: MizarTechlineImage, alt: "Mizar Techline" },
    ],
  },
  {
    title: "CREATIVIDAD",
    gallery: [
      { type: "image", source: img1Creativity, alt: "Federico Salazar" },
      { type: "image", source: PaulaNtotsikasImage, alt: "Paula Ntotsikas" },
    ],
  },
  {
    title: "CONTENIDO",
    gallery: [{ type: "video", source: blumTechVideo, alt: "Blum Tech Video" }],
  },
  {
    title: "PRODUCCIÓN",
    gallery: [
      { type: "image", source: img1Production, alt: "Videoclip Auto" },
      { type: "image", source: img2Production, alt: "Padel Chico" },
      { type: "image", source: img3Production, alt: "Perfume" },
      { type: "image", source: img4Production, alt: "Perfume 2" },
    ],
  },
];
---

<section
  id="home"
  class="w-full bg-[#E0D7D3] overflow-hidden px-4 pt-20 pb-4 lg:px-8 lg:pt-24 lg:pb-6 lg:max-w-[1600px] lg:mx-auto"
>
  <!-- Mobile Layout -->
  <div
    class="flex flex-col h-full w-full items-center justify-between gap-4 lg:hidden"
  >
    <div
      class="flex flex-col items-center justify-center text-center px-2 z-20"
    >
      <div class="relative max-w-4xl mx-auto">
        <h1
          aria-hidden="true"
          class="font-arialnova text-2xl leading-tight text-white absolute top-[3px] left-[3px] w-full select-none font-black"
          style="-webkit-text-stroke: 1.5px black;"
        >
          {titleText}
        </h1>

        <h1
          class="font-arialnova text-2xl leading-tight text-[#3E2723] relative z-10 font-black"
          style="-webkit-text-stroke: 1.5px black;"
        >
          {titleText}
        </h1>
      </div>

      <p
        class="font-arialnova text-base mt-4 tracking-wide text-[#3E2723] font-bold uppercase"
      >
        DISEÑANDO EL CAMINO DE <span class="border-b-2 border-[#3E2723]"
          >TU MARCA</span
        >
      </p>
    </div>

    <div class="grid grid-cols-2 gap-2 w-full max-w-md">
      {
        services.map((service, index) => (
          <div class="w-full overflow-hidden rounded-lg aspect-[3/4] relative">
            <div class="absolute inset-0">
              <ServiceGallery data={service} id={`hero-card-mobile-${index}`} />
            </div>
          </div>
        ))
      }
    </div>

    <div
      class="w-screen flex flex-col items-center justify-end overflow-hidden"
    >
      <div class="relative w-full flex justify-center">
        <h2
          class="rumbo-outline text-[30vw] font-bold tracking-wider leading-none font-artnuvo whitespace-nowrap text-pretty"
        >
          RUMBO
        </h2>
        <p
          class="comunicacion-text absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-[#774F4F] text-2xl tracking-[0.3em] font-medium whitespace-nowrap font-archive"
        >
          COMUNICACIÓN
        </p>
      </div>
    </div>
  </div>

  <!-- Desktop Layout -->
  <div class="hidden lg:flex h-full w-full">
    <!-- Main content area -->
    <div class="flex flex-col flex-1 justify-between pr-8">
      <!-- Title and subtitle section - row layout -->
      <div class="flex gap-8">
        <!-- Title - left side -->
        <div class="relative max-w-3xl xl:max-w-4xl">
          <h1
            aria-hidden="true"
            class="font-arialnova text-5xl xl:text-6xl 2xl:text-7xl leading-[0.95] text-white absolute top-[4px] left-[4px] w-full select-none font-black"
            style="-webkit-text-stroke: 2px black;"
          >
            {titleText}.
          </h1>

          <h1
            class="font-arialnova text-5xl xl:text-6xl 2xl:text-7xl leading-[0.95] text-[#3E2723] relative z-10 font-black"
            style="-webkit-text-stroke: 2px black;"
          >
            {titleText}.
          </h1>
        </div>

        <!-- Subtitle - right side -->
        <p
          class="font-arialnova text-lg xl:text-xl tracking-wide text-[#3E2723] font-bold uppercase whitespace-nowrap self-end"
        >
          DISEÑANDO EL CAMINO DE <span class="border-b-2 border-[#3E2723]"
            >TU MARCA</span
          >
        </p>
      </div>

      <!-- Services grid section -->
      <div>
        <!-- Services cards - horizontal row -->
        <div class="grid grid-cols-4 gap-4 w-full">
          {
            services.map((service, index) => (
              <div class="w-full overflow-hidden rounded-lg aspect-[3/4]">
                <ServiceGallery
                  data={service}
                  id={`hero-card-desktop-${index}`}
                />
              </div>
            ))
          }
        </div>
      </div>
    </div>

    <!-- RUMBO vertical image - right side -->
    <div class="flex-shrink-0 flex items-start justify-center">
      <Image
        src={rumboVerticalHero}
        alt="RUMBO Comunicación"
        class="w-auto object-contain max-h-[600px] xl:max-h-[700px]"
      />
    </div>
  </div>
</section>

<style>
  .hero-title {
    -webkit-text-stroke: 1.5px #000000;
    paint-order: stroke fill;
    text-shadow:
      2px 2px 0 rgba(255, 255, 255, 0.25),
      3px 3px 0 rgba(255, 255, 255, 0.15);
  }

  .hero-sub {
    -webkit-text-stroke: 1.2px black;
  }

  .rumbo-outline {
    color: transparent;
    -webkit-text-stroke: 2px #3e2723;
  }

  .comunicacion-text {
    -webkit-text-stroke: 2px black;
  }
</style>
